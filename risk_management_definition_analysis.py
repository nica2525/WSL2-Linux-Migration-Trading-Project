#!/usr/bin/env python3
"""
ãƒªã‚¹ã‚¯ç®¡ç†å®šç¾©ãƒ»ç¯„å›²åˆ†æ
ä»Šå›å®Ÿè£…ã™ã‚‹ãƒªã‚¹ã‚¯ç®¡ç†ã®å…·ä½“çš„ãªå®šç¾©ã¨ç¯„å›²ã‚’æ˜ç¢ºåŒ–
"""

import json
from datetime import datetime
from enum import Enum


class RiskLevel(Enum):
    """ãƒªã‚¹ã‚¯ç®¡ç†ãƒ¬ãƒ™ãƒ«"""

    TRADE_LEVEL = "å€‹åˆ¥å–å¼•ãƒ¬ãƒ™ãƒ«"
    PORTFOLIO_LEVEL = "ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªãƒ¬ãƒ™ãƒ«"
    SYSTEM_LEVEL = "ã‚·ã‚¹ãƒ†ãƒ ãƒ¬ãƒ™ãƒ«"
    MARKET_LEVEL = "å¸‚å ´ãƒ¬ãƒ™ãƒ«"
    OPERATIONAL_LEVEL = "é‹ç”¨ãƒ¬ãƒ™ãƒ«"


class RiskType(Enum):
    """ãƒªã‚¹ã‚¯ã‚¿ã‚¤ãƒ—"""

    MARKET_RISK = "å¸‚å ´ãƒªã‚¹ã‚¯"
    CREDIT_RISK = "ä¿¡ç”¨ãƒªã‚¹ã‚¯"
    LIQUIDITY_RISK = "æµå‹•æ€§ãƒªã‚¹ã‚¯"
    OPERATIONAL_RISK = "ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒªã‚¹ã‚¯"
    MODEL_RISK = "ãƒ¢ãƒ‡ãƒ«ãƒªã‚¹ã‚¯"
    BEHAVIORAL_RISK = "è¡Œå‹•ãƒªã‚¹ã‚¯"


def analyze_risk_management_scope():
    """ä»Šå›å®Ÿè£…ã™ã‚‹ãƒªã‚¹ã‚¯ç®¡ç†ã®ç¯„å›²åˆ†æ"""

    print("ğŸ” ãƒªã‚¹ã‚¯ç®¡ç†å®šç¾©ãƒ»ç¯„å›²åˆ†æ")
    print("=" * 60)

    # ä»Šå›å®Ÿè£…ã—ãŸãƒªã‚¹ã‚¯ç®¡ç†æ©Ÿèƒ½
    implemented_features = {
        "ATRãƒ™ãƒ¼ã‚¹ãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼": {
            "level": RiskLevel.TRADE_LEVEL,
            "type": RiskType.MARKET_RISK,
            "purpose": "é«˜ãƒ»ä½ãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£ç’°å¢ƒã§ã®å–å¼•å›é¿",
            "scope": "å€‹åˆ¥å–å¼•ã®å¸‚å ´ãƒªã‚¹ã‚¯åˆ¶é™",
            "prevents": "ãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£ç•°å¸¸æ™‚ã®æƒ³å®šå¤–æå¤±",
            "does_not_prevent": "æ­£å¸¸ãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£æ™‚ã®å€‹åˆ¥æå¤±",
        },
        "é€£ç¶šæå¤±è¿½è·¡ãƒ»åˆ¶é™": {
            "level": RiskLevel.PORTFOLIO_LEVEL,
            "type": RiskType.BEHAVIORAL_RISK,
            "purpose": "é€£ç¶šæå¤±ã«ã‚ˆã‚‹ãƒ‰ãƒ­ãƒ¼ãƒ€ã‚¦ãƒ³æ‹¡å¤§é˜²æ­¢",
            "scope": "é€£ç¶šã™ã‚‹è¤‡æ•°å–å¼•ã®ç´¯ç©æå¤±åˆ¶é™",
            "prevents": "æ„Ÿæƒ…çš„å–å¼•ç¶™ç¶šã«ã‚ˆã‚‹ç ´ç¶»",
            "does_not_prevent": "å€‹åˆ¥å–å¼•ã®é€šå¸¸æå¤±",
        },
        "ãƒ’ãƒ¼ãƒˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç›£è¦–": {
            "level": RiskLevel.SYSTEM_LEVEL,
            "type": RiskType.MODEL_RISK,
            "purpose": "æˆ¦ç•¥ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä½ä¸‹ã®æ—©æœŸæ¤œå‡º",
            "scope": "æˆ¦ç•¥è‡ªä½“ã®æœ‰åŠ¹æ€§ç›£è¦–",
            "prevents": "æˆ¦ç•¥åŠ£åŒ–ã«ã‚ˆã‚‹ç¶™ç¶šçš„æå¤±",
            "does_not_prevent": "æ­£å¸¸ãªå€‹åˆ¥å–å¼•æå¤±",
        },
        "ç›¸é–¢ãƒªã‚¹ã‚¯ç®¡ç†": {
            "level": RiskLevel.PORTFOLIO_LEVEL,
            "type": RiskType.MARKET_RISK,
            "purpose": "åŒæ–¹å‘ãƒã‚¸ã‚·ãƒ§ãƒ³é›†ä¸­å›é¿",
            "scope": "è¤‡æ•°ãƒã‚¸ã‚·ãƒ§ãƒ³é–“ã®ç›¸é–¢åˆ¶é™",
            "prevents": "ä¸€æ–¹å‘ç›¸å ´ã§ã®å…¨ãƒã‚¸ã‚·ãƒ§ãƒ³æå¤±",
            "does_not_prevent": "åˆ†æ•£ã•ã‚ŒãŸå€‹åˆ¥æå¤±",
        },
        "ã‚±ãƒªãƒ¼åŸºæº–ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚µã‚¤ã‚º": {
            "level": RiskLevel.TRADE_LEVEL,
            "type": RiskType.MARKET_RISK,
            "purpose": "çµ±è¨ˆçš„æœ€é©ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚µã‚¤ã‚ºç®—å‡º",
            "scope": "å€‹åˆ¥å–å¼•ã®ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚µã‚¤ã‚ºæœ€é©åŒ–",
            "prevents": "éå¤§ãƒã‚¸ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚‹ç ´ç¶»",
            "does_not_prevent": "å€‹åˆ¥å–å¼•ã®é€šå¸¸æå¤±",
        },
        "ã‚¨ã‚¯ã‚¹ãƒãƒ¼ã‚¸ãƒ£ãƒ¼åˆ¶é™": {
            "level": RiskLevel.PORTFOLIO_LEVEL,
            "type": RiskType.MARKET_RISK,
            "purpose": "ç·ãƒã‚¸ã‚·ãƒ§ãƒ³é‡ã®ä¸Šé™è¨­å®š",
            "scope": "å…¨ãƒã‚¸ã‚·ãƒ§ãƒ³åˆè¨ˆã®è³‡æœ¬æ¯”ç‡åˆ¶é™",
            "prevents": "éå¤§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã«ã‚ˆã‚‹ç ´ç¶»",
            "does_not_prevent": "åˆ¶é™å†…ã§ã®å€‹åˆ¥æå¤±",
        },
        "å¸‚å ´ç’°å¢ƒé©å¿œãƒ¡ã‚«ãƒ‹ã‚ºãƒ ": {
            "level": RiskLevel.MARKET_LEVEL,
            "type": RiskType.MODEL_RISK,
            "purpose": "å¸‚å ´ç’°å¢ƒå¤‰åŒ–ã¸ã®æˆ¦ç•¥é©å¿œ",
            "scope": "å¸‚å ´ãƒ¬ã‚¸ãƒ¼ãƒ åˆ¥ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æœ€é©åŒ–",
            "prevents": "å¸‚å ´æ§‹é€ å¤‰åŒ–ã«ã‚ˆã‚‹æˆ¦ç•¥å¤±åŠ¹",
            "does_not_prevent": "é©å¿œå¾Œã®å€‹åˆ¥å–å¼•æå¤±",
        },
    }

    # ãƒªã‚¹ã‚¯ç®¡ç†ã®ç›®çš„åˆ¥åˆ†é¡
    print("\nğŸ“Š å®Ÿè£…ã—ãŸãƒªã‚¹ã‚¯ç®¡ç†ã®ç›®çš„åˆ¥åˆ†é¡")
    print("-" * 50)

    purpose_categories = {
        "ç ´ç¶»é˜²æ­¢å‹": ["éå¤§ãƒã‚¸ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚‹ç ´ç¶»", "éå¤§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã«ã‚ˆã‚‹ç ´ç¶»", "æ„Ÿæƒ…çš„å–å¼•ç¶™ç¶šã«ã‚ˆã‚‹ç ´ç¶»"],
        "æå¤±åˆ¶é™å‹": ["é«˜ãƒ»ä½ãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£ç’°å¢ƒã§ã®å–å¼•å›é¿", "é€£ç¶šã™ã‚‹è¤‡æ•°å–å¼•ã®ç´¯ç©æå¤±åˆ¶é™"],
        "é©å¿œå‹": ["å¸‚å ´æ§‹é€ å¤‰åŒ–ã«ã‚ˆã‚‹æˆ¦ç•¥å¤±åŠ¹", "æˆ¦ç•¥åŠ£åŒ–ã«ã‚ˆã‚‹ç¶™ç¶šçš„æå¤±"],
        "æœ€é©åŒ–å‹": ["çµ±è¨ˆçš„æœ€é©ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚µã‚¤ã‚ºç®—å‡º", "è¤‡æ•°ãƒã‚¸ã‚·ãƒ§ãƒ³é–“ã®ç›¸é–¢åˆ¶é™"],
    }

    for category, purposes in purpose_categories.items():
        print(f"\nğŸ¯ {category}:")
        matching_features = [
            feature
            for feature, details in implemented_features.items()
            if details["purpose"] in purposes
        ]
        for feature in matching_features:
            print(f"   âœ“ {feature}")

    # è³ªå•ã¸ã®ç›´æ¥å›ç­”
    print("\nâ“ è³ªå•ã¸ã®ç›´æ¥å›ç­”")
    print("-" * 50)

    risk_management_answers = {
        "ãƒˆãƒ¼ã‚¿ãƒ«ã§è² ã‘ãªã„ç®¡ç†": {
            "è©²å½“åº¦": "éƒ¨åˆ†çš„",
            "èª¬æ˜": "é€£ç¶šæå¤±åˆ¶é™ãƒ»ãƒ’ãƒ¼ãƒˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç›£è¦–ãƒ»å¸‚å ´é©å¿œã§é•·æœŸçš„è² ã‘é˜²æ­¢ã‚’å›³ã‚‹ãŒã€çŸ­æœŸçš„æå¤±ã¯è¨±å®¹",
            "å…·ä½“ä¾‹": "é€£ç¶š3å›æå¤±ã§å–å¼•åœæ­¢ã€æˆ¦ç•¥åŠ£åŒ–æ¤œå‡ºã§è¦‹ç›´ã—å®Ÿè¡Œ",
        },
        "æ¯ãƒˆãƒ¬ãƒ¼ãƒ‰æå¤±ã«ãªã‚‰ãªã„ç®¡ç†": {
            "è©²å½“åº¦": "éå¯¾å¿œ",
            "èª¬æ˜": "å€‹åˆ¥å–å¼•ã®æå¤±è‡ªä½“ã¯é˜²ãŒãªã„ã€‚ã‚¹ãƒˆãƒƒãƒ—ãƒ­ã‚¹è¨­å®šã¯ã‚ã‚‹ãŒæå¤±å‰æã®è¨­è¨ˆ",
            "å…·ä½“ä¾‹": "ãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã§å–å¼•å“è³ªå‘ä¸Šã™ã‚‹ãŒã€å®Ÿè¡Œã•ã‚ŒãŸå–å¼•ã¯æå¤±å¯èƒ½æ€§ã‚ã‚Š",
        },
        "æƒ³å®šå¤–ã®æå¤±ã«ãªã‚‰ãªã„ç®¡ç†": {
            "è©²å½“åº¦": "ä¸»è¦å¯¾è±¡",
            "èª¬æ˜": "ç•°å¸¸å¸‚å ´ç’°å¢ƒãƒ»éå¤§ãƒã‚¸ã‚·ãƒ§ãƒ³ãƒ»æˆ¦ç•¥åŠ£åŒ–ãªã©ã®æƒ³å®šå¤–è¦å› ã«ã‚ˆã‚‹æå¤±ã‚’é˜²æ­¢",
            "å…·ä½“ä¾‹": "ATRãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã€ã‚¨ã‚¯ã‚¹ãƒãƒ¼ã‚¸ãƒ£ãƒ¼åˆ¶é™ã€ãƒ’ãƒ¼ãƒˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç›£è¦–",
        },
    }

    for question, answer in risk_management_answers.items():
        print(f"\nğŸ” {question}:")
        print(f"   è©²å½“åº¦: {answer['è©²å½“åº¦']}")
        print(f"   èª¬æ˜: {answer['èª¬æ˜']}")
        print(f"   å…·ä½“ä¾‹: {answer['å…·ä½“ä¾‹']}")

    # ä»Šå›ã®ãƒªã‚¹ã‚¯ç®¡ç†ã®å…·ä½“çš„å®šç¾©
    print("\nğŸ¯ ä»Šå›å®Ÿè£…ã™ã‚‹ãƒªã‚¹ã‚¯ç®¡ç†ã®å…·ä½“çš„å®šç¾©")
    print("-" * 50)

    risk_definition = {
        "ä¸»è¦ç›®çš„": "æƒ³å®šå¤–ã®æå¤±é˜²æ­¢",
        "å¯¾è±¡ç¯„å›²": "ã‚·ã‚¹ãƒ†ãƒ ãƒ»ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªãƒ»å€‹åˆ¥å–å¼•ã®3å±¤æ§‹é€ ",
        "åŸºæœ¬æ–¹é‡": "é€šå¸¸ã®å–å¼•æå¤±ã¯è¨±å®¹ã€ç•°å¸¸ãƒ»éå¤§ãƒ»åŠ£åŒ–ãƒªã‚¹ã‚¯ã‚’åˆ¶é™",
        "å®Ÿè£…ãƒ¬ãƒ™ãƒ«": [
            "Level 1: å€‹åˆ¥å–å¼•å“è³ªãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆATRã€ãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£ï¼‰",
            "Level 2: ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªæå¤±åˆ¶é™ï¼ˆé€£ç¶šæå¤±ã€ç›¸é–¢ã€ã‚¨ã‚¯ã‚¹ãƒãƒ¼ã‚¸ãƒ£ãƒ¼ï¼‰",
            "Level 3: ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–ãƒ»é©å¿œï¼ˆãƒ’ãƒ¼ãƒˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã€å¸‚å ´é©å¿œï¼‰",
        ],
        "è¨±å®¹ã™ã‚‹æå¤±": ["ã‚¹ãƒˆãƒƒãƒ—ãƒ­ã‚¹ç¯„å›²å†…ã®å€‹åˆ¥å–å¼•æå¤±", "çµ±è¨ˆçš„æœŸå¾…å€¤å†…ã®ä¸€æ™‚çš„ãƒ‰ãƒ­ãƒ¼ãƒ€ã‚¦ãƒ³", "å¸‚å ´ç’°å¢ƒé©å¿œæœŸé–“ä¸­ã®èª¿æ•´æå¤±"],
        "é˜²æ­¢ã™ã‚‹æå¤±": [
            "ç•°å¸¸ãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£ã«ã‚ˆã‚‹æƒ³å®šå¤–æå¤±",
            "éå¤§ãƒã‚¸ã‚·ãƒ§ãƒ³ãƒ»éå¤§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã«ã‚ˆã‚‹ç ´ç¶»",
            "æˆ¦ç•¥åŠ£åŒ–ãƒ»å¸‚å ´æ§‹é€ å¤‰åŒ–ã«ã‚ˆã‚‹ç¶™ç¶šçš„æå¤±",
            "æ„Ÿæƒ…çš„å–å¼•ã«ã‚ˆã‚‹é€£ç¶šå¤§æå¤±",
        ],
    }

    for key, value in risk_definition.items():
        print(f"\nğŸ“‹ {key}:")
        if isinstance(value, list):
            for item in value:
                print(f"   â€¢ {item}")
        else:
            print(f"   {value}")

    # å…·ä½“çš„ãªæ•°å€¤åŸºæº–
    print("\nğŸ“Š å…·ä½“çš„ãªæ•°å€¤åŸºæº–")
    print("-" * 50)

    numerical_criteria = {
        "å€‹åˆ¥å–å¼•ãƒ¬ãƒ™ãƒ«": {
            "æœ€å¤§ãƒªã‚¹ã‚¯": "å£åº§æ®‹é«˜ã®2%",
            "ã‚¹ãƒˆãƒƒãƒ—ãƒ­ã‚¹": "ã‚¨ãƒ³ãƒˆãƒªãƒ¼ä¾¡æ ¼ã®1.3 ATR",
            "ãƒ†ã‚¤ã‚¯ãƒ—ãƒ­ãƒ•ã‚£ãƒƒãƒˆ": "ã‚¨ãƒ³ãƒˆãƒªãƒ¼ä¾¡æ ¼ã®2.5 ATR",
            "ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚µã‚¤ã‚º": "ã‚±ãƒªãƒ¼åŸºæº–ã®25%ï¼ˆå®‰å…¨ä¿‚æ•°ï¼‰",
        },
        "ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªãƒ¬ãƒ™ãƒ«": {
            "æœ€å¤§ãƒ‰ãƒ­ãƒ¼ãƒ€ã‚¦ãƒ³": "20%",
            "é€£ç¶šæå¤±é™ç•Œ": "3å›",
            "ç›¸é–¢é™ç•Œ": "70%",
            "ç·ã‚¨ã‚¯ã‚¹ãƒãƒ¼ã‚¸ãƒ£ãƒ¼": "å£åº§æ®‹é«˜ã®2%",
        },
        "ã‚·ã‚¹ãƒ†ãƒ ãƒ¬ãƒ™ãƒ«": {
            "ãƒ’ãƒ¼ãƒˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹é™ç•Œ": "0.5",
            "æˆ¦ç•¥è¦‹ç›´ã—é–¾å€¤": "é€£ç¶šæå¤±5å›ã¾ãŸã¯ãƒ’ãƒ¼ãƒˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹>0.5",
            "å¸‚å ´é©å¿œä¿¡é ¼åº¦": "æœ€ä½60%",
        },
    }

    for level, criteria in numerical_criteria.items():
        print(f"\nğŸ¯ {level}:")
        for criterion, value in criteria.items():
            print(f"   {criterion}: {value}")

    # çµè«–
    print("\nğŸŠ çµè«–: ä»Šå›ã®ãƒªã‚¹ã‚¯ç®¡ç†ã®å®šç¾©")
    print("-" * 50)

    conclusion = """
ä»Šå›å®Ÿè£…ã™ã‚‹ãƒªã‚¹ã‚¯ç®¡ç†ã¯ã€Œæƒ³å®šå¤–ã®æå¤±é˜²æ­¢ã€ã‚’ä¸»ç›®çš„ã¨ã—ãŸåŒ…æ‹¬çš„ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

ã€å¯¾è±¡ã¨ã™ã‚‹æå¤±ã€‘
âœ… ç•°å¸¸å¸‚å ´ç’°å¢ƒã«ã‚ˆã‚‹æƒ³å®šå¤–æå¤±
âœ… éå¤§ãƒã‚¸ã‚·ãƒ§ãƒ³ãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã«ã‚ˆã‚‹ç ´ç¶»ãƒªã‚¹ã‚¯
âœ… æˆ¦ç•¥åŠ£åŒ–ãƒ»å¸‚å ´æ§‹é€ å¤‰åŒ–ã«ã‚ˆã‚‹ç¶™ç¶šçš„æå¤±
âœ… æ„Ÿæƒ…çš„å–å¼•ã«ã‚ˆã‚‹é€£ç¶šå¤§æå¤±

ã€å¯¾è±¡ã¨ã—ãªã„æå¤±ã€‘
âŒ ã‚¹ãƒˆãƒƒãƒ—ãƒ­ã‚¹ç¯„å›²å†…ã®å€‹åˆ¥å–å¼•æå¤±ï¼ˆé€šå¸¸ã®å–å¼•ã‚³ã‚¹ãƒˆï¼‰
âŒ çµ±è¨ˆçš„æœŸå¾…å€¤å†…ã®ä¸€æ™‚çš„ãƒ‰ãƒ­ãƒ¼ãƒ€ã‚¦ãƒ³ï¼ˆæ­£å¸¸ãªå¤‰å‹•ï¼‰
âŒ å¸‚å ´é©å¿œæœŸé–“ä¸­ã®èª¿æ•´æå¤±ï¼ˆå¿…è¦ãªå­¦ç¿’ã‚³ã‚¹ãƒˆï¼‰

ã€åŸºæœ¬æ–¹é‡ã€‘
ã€Œæ¯å–å¼•ã§è² ã‘ãªã„ã€ã§ã¯ãªãã€Œç ´ç¶»ã—ãªã„ãƒ»æƒ³å®šå¤–ã‚’é˜²ãã€ãƒªã‚¹ã‚¯ç®¡ç†
çµ±è¨ˆçš„å„ªä½æ€§ã‚’ç¶­æŒã—ãªãŒã‚‰ã€ç•°å¸¸äº‹æ…‹ã§ã®ç”Ÿå­˜ç¢ºä¿ã‚’æœ€å„ªå…ˆ
"""

    print(conclusion)

    # çµæœä¿å­˜
    analysis_result = {
        "analysis_type": "risk_management_definition_and_scope",
        "timestamp": datetime.now().isoformat(),
        "implemented_features": implemented_features,
        "purpose_categories": purpose_categories,
        "risk_management_answers": risk_management_answers,
        "risk_definition": risk_definition,
        "numerical_criteria": numerical_criteria,
        "conclusion": conclusion,
    }

    filename = (
        f"risk_management_definition_{datetime.now().strftime('%Y%m%d_%H%M%S')}.json"
    )
    with open(filename, "w", encoding="utf-8") as f:
        json.dump(analysis_result, f, indent=2, ensure_ascii=False, default=str)

    print(f"\nğŸ“ åˆ†æçµæœä¿å­˜: {filename}")
    print("âœ… ãƒªã‚¹ã‚¯ç®¡ç†å®šç¾©ãƒ»ç¯„å›²åˆ†æå®Œäº†")


if __name__ == "__main__":
    analyze_risk_management_scope()
