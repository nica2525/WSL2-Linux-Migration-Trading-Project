# MT4→MT5移行計画書

## 🎯 移行目的

### 主要理由
1. **OANDA MT4サーバー廃止**: 2024年12月13日終了予定
2. **コスト削減**: 年間約15万円の取引コスト削減
3. **スプレッド改善**:
   - USDJPY: 0.8-0.9銭 → 0.3-0.9銭
   - EURUSD: 同等（0.5-0.7pips）
4. **技術的優位性**: MCP連携・AI取引対応
5. **将来性**: MetaQuotes社もMT5推進

## 📋 移行スケジュール

### Phase 1: 準備段階（即時開始）
- [ ] MT5プラットフォームダウンロード・インストール
- [ ] OANDA MT5口座開設申請
- [ ] 開発環境構築（MetaEditor 5）
- [ ] プロジェクト文書更新

### Phase 2: EA移植（Priority 1）
- [ ] JamesORB_Standalone MQL4→MQL5変換
- [ ] コンパイル・動作確認
- [ ] パラメータ設定移行
- [ ] テスト実行環境構築

### Phase 3: バックテスト環境（Priority 2）
- [ ] QuantDataManager MT5対応確認
- [ ] ヒストリカルデータMT5形式エクスポート
- [ ] バックテスト設定移行
- [ ] 結果比較・検証

### Phase 4: 本格運用準備（Priority 3）
- [ ] MCP連携システム導入検討
- [ ] MT5 EA最適化
- [ ] 運用監視システム構築

## 🔧 技術的考慮事項

### MQL4→MQL5主要変更点
1. **言語仕様差異**
   - データ型の変更
   - 関数名・構文の違い
   - オブジェクト指向対応

2. **EA構造変更**
   - OnInit(), OnTick(), OnDeinit()
   - 取引関数の変更
   - 指標計算関数の変更

3. **バックテスト機能**
   - より高精度なティック生成
   - マルチ通貨対応
   - 詳細レポート機能

## 💰 コスト・ベネフィット分析

### 削減効果（年間）
- **USDJPY取引**: 0.5銭×250回×10万通貨 = 125,000円
- **EURUSD取引**: 同等スプレッドのため0円
- **合計削減**: 約125,000円/年

### 移行コスト
- **時間コスト**: EA移植・テスト 約20時間
- **学習コスト**: MQL5習得 約10時間
- **金銭コスト**: 0円（ソフトウェア無料）

### ROI（投資回収率）
- **初年度から黒字**: 削減効果 > 移行コスト
- **長期的優位性**: MCP連携・AI取引対応

## 🚨 リスク管理

### 移行リスク
1. **EA動作差異**: 厳密なテスト実施
2. **データ互換性**: バックテスト結果比較
3. **運用中断**: 段階的移行で最小化

### 対策
- MT4とMT5並行運用期間設定
- 小額でのテスト運用実施
- 緊急時のMT4復帰手順整備

## 📈 成功指標

### 短期目標（1ヶ月）
- [ ] EA移植完了・動作確認
- [ ] バックテスト結果MT4との整合性確認
- [ ] MT5での初回取引成功

### 中期目標（3ヶ月）
- [ ] 取引コスト削減効果確認
- [ ] 運用安定性確認
- [ ] MCP連携システム導入検討開始

### 長期目標（1年）
- [ ] 年間15万円コスト削減達成
- [ ] AI取引システム構築
- [ ] 複数通貨ペア対応EA開発

## 👥 責任分担

### kiro（設計・計画）
- 移行戦略立案
- 要件定義・仕様決定
- 品質基準設定

### Claude（実装・技術）
- EA移植実装
- テスト実行・検証
- 技術文書作成

移行開始日: 2025年7月23日
計画策定者: kiro & Claude
承認日: 2025年7月23日
