# ブレイクアウト戦略改善研究レポート
**作成日**: 2025年7月26日
**研究者**: Claude Code（実装担当）
**目的**: JamesORB改善・新EA開発のための技術調査

## 📊 現状分析と業界ベンチマーク

### JamesORB現状
- **勝率**: 15.7%（壊滅的）
- **リスクリワード比**: 0.62（不利）
- **年間収益**: -12.37%（損失）
- **プロフィットファクター**: 0.157

### 2024-2025年の成功事例
1. **EA Quantum Emperor MT5** (GBPUSD)
   - 8ヶ月で+30%のリターン
   - 安定した成長曲線

2. **NexusSpectra**
   - 月間60%リターン（高リスク）
   - 単一ポジション、マーチンゲールなし

3. **異国のX_ALL_IN_ONE (MT5)**
   - 最大ドローダウン1.14%（超低リスク）
   - 5通貨ペア・5分足運用

## 🎯 ブレイクアウト戦略の改善方法

### 1. **ボリューム確認フィルター**
```
改善案：
- ブレイクアウト時の出来高増加を確認
- 通常の1.5倍以上のボリュームで真のブレイクと判定
- MT5のVolume[]配列を活用
```

### 2. **ブレイク＆リテスト戦略**
```
実装手順：
1. 初回ブレイクアウトを検知
2. エントリーを保留
3. 価格がレベルに戻る（リテスト）を待つ
4. リテスト後の反発でエントリー
→ 勝率大幅向上（偽ブレイク回避）
```

### 3. **時間帯フィルター強化**
```
推奨時間帯：
- ロンドンオープン: 16:00-18:00 JST
- NYオープン: 22:00-24:00 JST
- 重要経済指標発表前後30分
```

### 4. **マルチタイムフレーム分析**
```
実装例：
- エントリー: M5（5分足）
- トレンド確認: H1（1時間足）
- 大局観: D1（日足）
→ 上位足のトレンド方向のみエントリー
```

## 💡 新EA設計提案

### 基本コンセプト
**名称**: "SmartBreakout EA"
**戦略**: 改良型ブレイクアウト＋リテスト確認

### 目標性能指標
- **勝率**: 45-55%
- **リスクリワード比**: 1.5-2.0
- **年間収益**: +20-30%
- **最大DD**: 20%以内
- **プロフィットファクター**: 1.5以上

### エントリー条件（AND条件）
1. **時間フィルター**: 高ボラティリティ時間帯
2. **ボリュームフィルター**: 通常の1.5倍以上
3. **ブレイクアウト**: 前日高値/安値を20pips超え
4. **リテスト確認**: ブレイク後の押し戻り確認
5. **トレンドフィルター**: H1足のトレンド方向

### リスク管理
```python
# 動的ロットサイズ計算
def calculate_lot_size(account_balance, risk_percent, stop_loss_pips):
    risk_amount = account_balance * (risk_percent / 100)
    pip_value = 0.0001 / exchange_rate  # EURUSDの場合
    lot_size = risk_amount / (stop_loss_pips * pip_value * 100000)
    return round(lot_size, 2)

# 例：残高100万円、リスク1%、SL20pips
# → 0.05ロット（リスク1万円）
```

### エグジット戦略
1. **固定TP/SL**: TP 30pips / SL 20pips（RR 1.5）
2. **トレイリングストップ**: 20pips利益後、10pipsトレイル
3. **時間制限**: エントリー後4時間で強制決済
4. **ボラティリティ適応**: ATRベースの動的TP/SL

## 📈 期待される改善効果

### 勝率向上要因
1. **リテスト確認**: +15-20%向上（偽ブレイク回避）
2. **ボリュームフィルター**: +10%向上
3. **時間帯限定**: +5-10%向上
→ **合計**: 15.7% → 45-50%への改善期待

### 収益性向上要因
1. **RR比改善**: 0.62 → 1.5（+142%）
2. **勝率向上**: 15.7% → 45%（+186%）
3. **取引頻度最適化**: 過剰取引の削減

### 年間収益シミュレーション
```
前提条件：
- 勝率: 45%
- RR比: 1.5
- 月間取引数: 50回
- 1取引リスク: 資金の1%

期待値計算：
- 月間期待値: (0.45 × 1.5 - 0.55 × 1) × 50 = 6.25%
- 年間期待値: 6.25% × 12 = 75%（複利効果除く）
- 現実的な年間収益: 20-30%（スリッページ等考慮）
```

## 🔬 実装優先順位

### Phase 1（即座実装）
1. リスクリワード比の修正（0.62→1.5）
2. 時間帯フィルターの実装
3. 基本的なボリュームチェック

### Phase 2（1週間以内）
1. ブレイク＆リテスト戦略の実装
2. マルチタイムフレーム分析
3. 動的ロットサイズ計算

### Phase 3（2週間以内）
1. トレイリングストップ機能
2. 経済指標カレンダー連携
3. 機械学習による最適化

## 📚 参考にすべき成功要因

### 成功しているEAの共通点
1. **シンプルな戦略**: 複雑すぎない明確なルール
2. **厳格なリスク管理**: 最大DD制限、適切なロットサイズ
3. **市場適応性**: ボラティリティに応じた調整
4. **バックテストと実取引の一致**: 現実的な条件設定

### 避けるべき失敗要因
1. **過剰最適化**: カーブフィッティングの回避
2. **非現実的な期待**: 月間100%等の誇大な目標
3. **リスク管理の軽視**: マーチンゲール等の危険手法
4. **単一市場依存**: 特定の相場環境のみで機能

## 🎯 結論と次のステップ

JamesORBの改善、または新EA開発において、以下が最重要：

1. **勝率向上**: リテスト戦略とフィルター追加で15.7%→45%へ
2. **RR比改善**: 現在の0.62から最低1.5へ
3. **リスク管理**: 動的ロットサイズと厳格なDD制限

これらの改善により、年間-12.37%の損失から+20-30%の利益への転換が期待できます。

---
**次回アクション**:
- 月曜日のJamesORBデモ取引観察継続
- kiroへの新EA設計提案書作成
- Phase 1改善の実装準備
